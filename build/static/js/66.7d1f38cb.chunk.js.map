{"version":3,"file":"static/js/66.7d1f38cb.chunk.js","mappings":"wIAIO,MAAMA,EAAqBC,GACXC,IAGnB,MAAMC,GAAWC,EAAAA,EAAAA,MAUjB,OARAC,EAAAA,EAAAA,YAAU,KACR,IAEGC,OAAOC,eAAeC,QAAQ,QAE/B,OAAOL,EAAS,SAAS,GAC1B,CAACA,KAEGM,EAAAA,EAAAA,KAACR,EAAgB,IAAKC,GAAS,C,sGC+E1C,SAAeF,EAAAA,EAAAA,IA1Ff,WACE,MAAOU,EAAgBC,IAAqBC,EAAAA,EAAAA,WAAS,GAG/CC,GAAWC,EAAAA,EAAAA,UACXC,GAAcD,EAAAA,EAAAA,WAEd,QAAEE,EAAO,SAAEb,EAAQ,WAAEc,EAAU,UAAEC,IACrCC,EAAAA,EAAAA,YAAWC,EAAAA,GAab,OAXAf,EAAAA,EAAAA,YAAU,KACP,IAAKC,OAAOC,eAAeC,QAAQ,QAClC,OAAOL,EAAS,UAEda,GACFC,GAAW,GAEbX,OAAOC,eAAec,WAAW,OAAO,GAEvC,KAGDZ,EAAAA,EAAAA,KAAA,OAAKa,UAAU,4CAA2CC,UACxDd,EAAAA,EAAAA,KAAA,QACEa,UAAU,mCACVE,SAAWC,IACTA,EAAEC,gBAAgB,EAClBH,UAEFI,EAAAA,EAAAA,MAAA,OAAAJ,SAAA,EACEd,EAAAA,EAAAA,KAAA,MAAIa,UAAU,qCAAoCC,SAAC,WACnDd,EAAAA,EAAAA,KAAA,SAAOa,UAAU,aAAYC,SAAC,WAC9Bd,EAAAA,EAAAA,KAAA,SACEmB,KAAK,OACLC,KAAK,QACLC,IAAKjB,EACLS,UAAU,0DAEZK,EAAAA,EAAAA,MAAA,SAAOL,UAAU,kCAAiCC,SAAA,CAAC,YAEjDd,EAAAA,EAAAA,KAAA,OAAAc,SACIb,GAMAD,EAAAA,EAAAA,KAACsB,EAAAA,IAAe,CACdT,UAAU,mCACVU,QAASA,IAAMrB,GAAkB,MAPnCF,EAAAA,EAAAA,KAACwB,EAAAA,IAAY,CACXX,UAAU,mCACVU,QAASA,IAAMrB,GAAkB,WAUzCF,EAAAA,EAAAA,KAAA,SACEmB,KAAMlB,EAAiB,OAAS,WAChCmB,KAAK,WACLC,IAAKf,EACLO,UAAU,0DAEZb,EAAAA,EAAAA,KAAA,OAAKa,UAAU,eAAcC,UAC3Bd,EAAAA,EAAAA,KAAA,QACEa,UAAU,+BACVU,QAASA,IAAM7B,EAAS,aAAaoB,SACtC,gBAIHd,EAAAA,EAAAA,KAAA,UACEyB,SAAUlB,EACVgB,QAASA,IACPd,EAAUL,EAASsB,QAAe,MAAGpB,EAAYoB,QAAe,OAElEb,UAAU,4FAA2FC,SAEnGP,GAAsBP,EAAAA,EAAAA,KAAC2B,EAAAA,EAAU,CAACC,MAAM,QAAQC,KAAM,IAA5C,aAEd7B,EAAAA,EAAAA,KAAA,KAAGa,UAAU,mBAAkBC,SAAC,QAChCd,EAAAA,EAAAA,KAAA,UAEEa,UAAU,uFAAsFC,SACjG,2BAOX,G","sources":["hocs/_withAuthHandler.js","pages/Login.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n// import { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nexport const withAccessHandler = (WrappedComponent) => {\r\n  const AuthHandler = (props) => {\r\n    // eslint-disable-next-line no-unused-vars\r\n    // const { isLoading, isAuthenticated } = useAuth0();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n      if (\r\n        // !isLoading && !isAuthenticated\r\n        !window.sessionStorage.getItem(\"user\")\r\n      )\r\n        return navigate(\"/login\");\r\n    }, [navigate]);\r\n\r\n    return <WrappedComponent {...props} />;\r\n  };\r\n\r\n  return AuthHandler;\r\n};\r\n","import { BeatLoader } from \"react-spinners\";\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { MdVisibility, MdVisibilityOff } from \"react-icons/md\";\r\n// import { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { ActionsContext } from \"../context/ActionsContext\";\r\nimport { withAccessHandler } from \"../hocs/_withAuthHandler\";\r\n\r\nfunction Login() {\r\n  const [passVisibility, setPassVisibility] = useState(false);\r\n  // const { loginWithRedirect } = useAuth0();\r\n\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n\r\n  const { loading, navigate, setLoading, loginUser } =\r\n    useContext(ActionsContext);\r\n\r\n  useEffect(() => {\r\n     if (!window.sessionStorage.getItem(\"user\")) {\r\n      return navigate(\"/login\")\r\n    }\r\n    if (loading) {\r\n      setLoading(false);\r\n    }\r\n    window.sessionStorage.removeItem(\"user\");\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center h-screen\">\r\n      <form\r\n        className=\"w-80 p-4 bg-white shadow rounded\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n        }}\r\n      >\r\n        <div>\r\n          <h5 className=\"text-xl font-bold mb-4 text-center\">Login</h5>\r\n          <label className=\"block mb-2\">Email</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            ref={emailRef}\r\n            className=\"w-full mb-2 px-2 py-1 border border-gray-300 rounded\"\r\n          />\r\n          <label className=\"flex justify-between block mb-2\">\r\n            Password\r\n            <div>\r\n              {!passVisibility ? (\r\n                <MdVisibility\r\n                  className=\"inline-block ml-2 cursor-pointer\"\r\n                  onClick={() => setPassVisibility(true)}\r\n                />\r\n              ) : (\r\n                <MdVisibilityOff\r\n                  className=\"inline-block ml-2 cursor-pointer\"\r\n                  onClick={() => setPassVisibility(false)}\r\n                />\r\n              )}\r\n            </div>\r\n          </label>\r\n          <input\r\n            type={passVisibility ? \"text\" : \"password\"}\r\n            name=\"password\"\r\n            ref={passwordRef}\r\n            className=\"w-full mb-2 px-2 py-1 border border-gray-300 rounded\"\r\n          />\r\n          <div className=\"text-sm mb-4\">\r\n            <span\r\n              className=\"text-blue-500 cursor-pointer\"\r\n              onClick={() => navigate(\"/register\")}\r\n            >\r\n              Register\r\n            </span>\r\n          </div>\r\n          <button\r\n            disabled={loading}\r\n            onClick={() =>\r\n              loginUser(emailRef.current[\"value\"], passwordRef.current[\"value\"])\r\n            }\r\n            className=\"w-full px-4 py-1 mb-2 text-white bg-blue-500 rounded hover:bg-blue-600 focus:outline-none\"\r\n          >\r\n            {!loading ? \"Proceed\" : <BeatLoader color=\"white\" size={6} />}\r\n          </button>\r\n          <p className=\"text-center mb-2\">or</p>\r\n          <button\r\n            // onClick={loginWithRedirect}\r\n            className=\"w-full px-4 py-1 text-white bg-blue-500 rounded hover:bg-blue-600 focus:outline-none\"\r\n          >\r\n            Login with Auth0\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withAccessHandler(Login);\r\n"],"names":["withAccessHandler","WrappedComponent","props","navigate","useNavigate","useEffect","window","sessionStorage","getItem","_jsx","passVisibility","setPassVisibility","useState","emailRef","useRef","passwordRef","loading","setLoading","loginUser","useContext","ActionsContext","removeItem","className","children","onSubmit","e","preventDefault","_jsxs","type","name","ref","MdVisibilityOff","onClick","MdVisibility","disabled","current","BeatLoader","color","size"],"sourceRoot":""}